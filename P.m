%本程序计算出维护仿真的各情景发生概率
tic%跟toc，记录这段程序运行的时间
syms x y q
Tp=100;
h=1;
mm=0.9;%1-1/ARL1;%m是犯第二类错误的概率，暂定
fx=(1.7/52.3)*((x/52.3)^(1.7-1))*exp(-(x/52.3)^1.7);
fy=(1.7/52.3)*((y/52.3)^(1.7-1))*exp(-(y/52.3)^1.7);
Fx=1-exp(-(x/52.3)^1.7);
Ftp=1-exp(-(Tp/52.3)^1.7);
g0x=(1.4/138.9)*((x/138.9)^(1.4-1))*exp(-(x/138.9)^1.4);
g0y=(1.4/138.9)*((y/138.9)^(1.4-1))*exp(-(y/138.9)^1.4);
g0q=(1.4/138.9)*((q/138.9)^(1.4-1))*exp(-(q/138.9)^1.4);
g1x=(1.4/84.7)*((x/84.7)^(1.4-1))*exp(-(x/84.7)^1.4);
g1y=(1.4/84.7)*((y/84.7)^(1.4-1))*exp(-(y/84.7)^1.4);
g1q=(1.4/84.7)*((q/84.7)^(1.4-1))*exp(-(q/84.7)^1.4);
G0x=1-exp(-(x/138.9)^1.4);
G0y=1-exp(-(y/138.9)^1.4);
G0tp=1-exp(-(Tp/138.9)^1.4);
G1x=1-exp(-(x/84.7)^1.4);
G1y=1-exp(-(y/84.7)^1.4);
G1tp=1-exp(-(Tp/84.7)^1.4);
m1=(y-x)/h;
%m1=ceil(m1);%向上取整,加上这段pxy和pxtp无法计算
m2=(Tp-x)/h;
%m2=ceil(m2);
pxy=1-mm^m1;
pxtp=1-mm^m2;
p1=int(g0x*(1-Fx)*(1-G1x),x,0,Tp);
Ps1=double(p1);
p2=(1-Ftp)*(1-G0tp)*(1-G1tp);
Ps2=double(p2); 
%p3=int(fx*(1-G0tp)*int(g1y*(1-pxy),y,x,Tp),x,0,Tp);%
p3=int(fx*int(g1y*(1-pxy)*int(g0q,q,y,inf),y,x,Tp),x,0,Tp);
%Ps3=double(p3);
p4=int(fx*int(pxy*int(g0q*g1q,q,y,inf),y,x,Tp),x,0,Tp);
%Ps4=double(p4);
p5=int(fx*(1-pxtp),x,0,Tp)*(1-G0tp)*(1-G1tp);
Ps5=double(p5);%大写的P
toc